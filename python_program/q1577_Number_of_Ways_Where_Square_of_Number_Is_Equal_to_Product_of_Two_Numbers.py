from typing import List
from collections import Counter,defaultdict,deque
from math import *
from functools import reduce,lru_cache,total_ordering
import numpy as np
from heapq import *
from bisect import bisect_left,bisect_right
from itertools import count,zip_longest
import queue

class Solution:
    def numTriplets(self, nums1: List[int], nums2: List[int]) -> int:
        count_triplet = 0
        
        a = Counter(map(lambda x:x**2,nums1))
        b = nums2
        n = len(b)
        for i in range(n):
            for j in range(i+1,n):
                count_triplet+=a[b[i]*b[j]]
        
        a = Counter(map(lambda x:x**2,nums2))
        b = nums1
        n = len(b)
        for i in range(n):
            for j in range(i+1,n):
                count_triplet+=a[b[i]*b[j]]
        return count_triplet


sol = Solution()

# input
nums1 = [7,4]

nums2 = [5,2,8,9]

# output
output = sol.numTriplets(nums1,nums2)
# answer
answer = 1

print(output, answer, answer == output)

# input
nums1 = [1,1]

nums2 = [1,1,1]

# output
output = sol.numTriplets(nums1,nums2)
# answer
answer = 9

print(output, answer, answer == output)

# input
nums1 = [7,7,8,3]

nums2 = [1,2,9,7]

# output
output = sol.numTriplets(nums1,nums2)
# answer
answer = 2

print(output, answer, answer == output)

# input
nums1 = [4,7,9,11,23]

nums2 = [3,5,1024,12,18]

# output
output = sol.numTriplets(nums1,nums2)
# answer
answer = 0

print(output, answer, answer == output)

# input
nums1 = [84,12,63,16,73,87,58,86,3,31,6,58,57,29,14,71,10,26,44,33,52,80,89,51,85,10,19,27,76,38,63,97,78,50,26,16,85,98,60,72,2,39,50,79,24,93,45,44,53,65,31,75,13,23,8,98,74,2,84,78,95,48,16,33,40,45,82,48,45,34,49,34,68,30,48,39,47,4,69,7,58,1,10,41,39,62,95,40,3,81,80,22,77,30,34,7,9,96,63,86,91,51,78,57,61,12,32,75,34,82,7,20,14,66,33,95,17,45,92,7,66,33,74,16,75,96,40,24,96,67,49,26,43,14,16,54,59,70,6,89,81,72,41,94,74,6,6,64,35,44,92,2,82,60,33,54,18,48,64,25,40,35,3,44,99,48,8,90,48,35,97,2,11,87,1,16,85,37,46,29,74,5,11,9,58,46,34,54,91,25,28,24,57,55,48,45,28,49,73,70,4,81,70,25,3,28,57,69,51,37,58,25,58,7,2,30,18,40,20,53,65,65,39,49,76,57,77,61,32,14,24,82,53,77,6,60,64,57,89,47,2,40,92,75,30,44,45,97,59,41,64,91,37,97,32,57,5,64,94,82,48,97,100,80,58,35,87,2,3,20,99,27,65,7,2,97,24,26,50,47,93,17,78,97,21,51,22,98,86,72,51,90,21,87,24,54,33,25,82,9,29,1,90,41,36,26,14,70,18,81,42,97,12,41,29,38,26,52,78,69,15,46,51,44,28,86,19,47,84,73,11,29,5,84,59,85,47,68,41,90,52,78,69,33,70,84,37,47,80,3,5,10,7,82,21,59,88,45,61,14,63,84,33,25,54,78,31,14,2,36,90,22,59,87,12,100,8,42,33,58,46,64,23,20,71,20]

nums2 = [96,98,35,26,68,7,40,39,7,26,67,94,40,94,28,3,22,44,10,71,77,57,58,34,20,17,31,85,69,27,18,90,21,33,24,90,71,28,22,78,84,43,84,80,13,66,47,94,21,33,60,49,90,58,100,92,11,3,94,4,66,68,14,92,14,3,9,97,100,27,97,95,58,92,66,40,22,69,77,44,33,43,54,75,33,91,67,39,81,66,10,93,76,4,3,28,38,85,12,64,75,95,52,73,46,11,44,38,76,2,4,74,37,20,81,37,54,22,59,98,61,7,97,98,72,40,50,85,16,41,8,85,11,53,12,40,37,9,80,20,61,1,17,47,21,24,65,38,59,91,27,74,75,34,89,88,8,54,52,8,85,9,84,76,59,45,86,70,63,95,26,88,62,44,28,78,15,27,64,27,25,55,93,81,22,23,96,92,16,57,73,65,21,36,5,17,18,14,44,56,23,100,65,58,79,94,25,21,59,95,8,95,63,62,80,17,15,3,62,77,64,97,80,4,96,74,86,98,63,55,95,45,53,59,61,76,45,69,17,70,21,48,22,26,56,65,16,93,3,86,57,33,36,65,86,7,17,66,22,78,79,100,76,40,11,99,21,79,27,100,92,10,20,71,81,27,18,60,31,63,52,15,16,31,51,86,63,70,28,34,31,97,5,89,21,7,47,93,43,6,10,48,92,90,17,7,57,65,68,1,36,36,97,19,14,24,46,31,34,22,60,70,76,66,1,88,85,6,26,75,24,72,45,51,48,6,53,80,60,40,23,19,51,64,58,85,69,76,21,71,52,53,12,7,93,40,14,43,39,74,19,70,21,97,32,63,44,80,13,91,93,33,48,71,13,11,83,34,59,42,77,60,18,53,2,45]

# output
output = sol.numTriplets(nums1,nums2)
# answer
answer = 18248

print(output, answer, answer == output)
