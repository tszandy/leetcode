from typing import List
from collections import Counter,defaultdict
from math import *
from functools import reduce
import numpy as np
from heapq import *

class Solution:
    def numOfSubarrays(self, arr: List[int]) -> int:
        odd_sub_array_sum = 0
        even_sub_array_sum = 0
        odd_sub_array_sum_count = 0
        for num in arr:
            if num % 2 ==1:
                odd_sub_array_sum,even_sub_array_sum = even_sub_array_sum,odd_sub_array_sum
                odd_sub_array_sum += 1
            else:
                even_sub_array_sum += 1
            
            odd_sub_array_sum_count += odd_sub_array_sum

        return odd_sub_array_sum_count % (10**9 + 7)

    def numOfSubarrays_1(self, arr: List[int]) -> int:
        sub_arrays = []
        odd_sub_array_sum_count = 0
        for num in arr:
            for j in range(len(sub_arrays)):
                if sub_arrays[j]%2 == 1:
                    odd_sub_array_sum_count +=1
                sub_arrays[j]+=num
            sub_arrays.append(num)
        for j in range(len(sub_arrays)):
            if sub_arrays[j]%2 == 1:
                odd_sub_array_sum_count +=1

        return odd_sub_array_sum_count % (10**9 + 7)

sol = Solution()


# input
arr = [1,3,5]
# output
output = sol.numOfSubarrays(arr)
# answer
answer = 4
print(output, answer, answer == output)

# input
arr = [2,4,6]
# output
output = sol.numOfSubarrays(arr)
# answer
answer = 0
print(output, answer, answer == output)

# input
arr = [1,2,3,4,5,6,7]
# output
output = sol.numOfSubarrays(arr)
# answer
answer = 16
print(output, answer, answer == output)

# input
arr = [100,100,99,99]
# output
output = sol.numOfSubarrays(arr)
# answer
answer = 4
print(output, answer, answer == output)

# input
arr = [7]
# output
output = sol.numOfSubarrays(arr)
# answer
answer = 1
print(output, answer, answer == output)

# input
arr = [38,42,1,13,58,21,45,9,7,66,80,36,51,71,80,72,79,59,41,26,11,99,18,5,27,63,60,87,2,57,46,98,87,7,29,19,28,51,48,75,77,12,80,36,13,2,44,46,6,6,62,28,100,3,56,20,92,87,58,1,54,84,85,60,51,48,60,43,71,14,91,41,4,100,60,81,18,27,6,7,4,4,98,76,30,81,27,79,97,94,82,24,98,79,43,55,67,59,39,85,60,8,9,4,39,23,96,91,3,23,22,27,15,61,30,52,64,82,75,76,64,44,56,48,10,79,38,68,29,70,39,27,74,46,83,10,10,51,90,50,37,20,15,78,62,32,82,5,80,48,59,91,33,47,45,14,5,41,10,75,23,2,38,36,49,17,56,59,25,89,100,36,72,45,17,51,50,41,90,42,93,89,91,65,72,44,54,72,38,37,98,96,2,67,1,87,33,81,29,100,51,3,73,5,22,100,11,92,63,9,69,37,33,35,65,8,3,15,33,44,2,87,16,74,18,95,6,60,52,14,79,63,22,54,62,35,54,59,51,48,37,97,92,80,59,90,88,60,11,66,49,38,52,71,57,77,61,57,77,91,51,28,90,57,13,35,68,10,73,81,79,40,28,27,95,67,1,5,60,88,31,64,24,40,45,84,81,57,91,73,2,24,35,80,74,83,47,33,61,10,51,4,55,18,6,83,5,40,40,36,7,41,13,25,100,97,72,90,31,1,31,33,57,94,99,21,59,100,63,43,41,47,7,34,23,60,28,9,45,2,55,22,68,42,39,58,33,22,3,28,35,16,59,16,70,63,16,51,87,9,65,45,16,100,79,14,8,17,78,61,10,51,75,87,38,16,5,34,46,91,98,21,98,98,46,4,74,57,78,20,92,21,11,39,62,100,84,79,26,60,44,13,37,34,23,66,14,83,38,14,94,76,18,17,59,79,60,71,73,11,95,84,64,61,25,27,39,5,28,8,88,56,33,15,65,35,30,4,81,2,19,84,67,31,36,34,92,66,93,39,39,15,30,71,78,42,56,28,81,40,37,54,26,70,28,93,90,98,62,9,90,47,13,28,94,27,30,34,67,95,29,50,13,12,21,49,16,76,21,43,71,32,36,21,83,63,67,55,25,6,44,61,16,9,70,59,78,99,8,91,68,36,58,15,6,28,98,14,5,29,67,62,26,6,69,40,24,7,65,84,99,85,36,42,65,57,27,99,36,97,44,86,61,52,23,62,98,81,45,84,60,31,79,13,84,64,30,57,55,44,36,56,37,85,21,48,69,36,9,46,98,31,64,15,90,74,89,38,66,83,1,40,17,89,98,37,20,5,32,16,29,88,7,11,87,76,40,41,34,4,41,20,23,96,12,25,72,40,90,20,38,100,28,61,36,39,96,37,73,81,4,47,77,67,45,26,94,20,40,9,35,59,6,5,19,60,81,50,15,100,82,81,40,31,25,44,29,93,80,47,61,72,18,58,80,46,34,100,40,69,70,13,65,98,25,94,92,9,49,88,99,71,15,53,21,98,53,89,45,14,65,35,16,71,78,99,46,84,47,90,8,99,50,75,17,4,10,52,28,4,49,69,29,6,7,52,44,68,38,14,60,64,67,69,21,36,26,23,92,100,94,86,9,7,38,74,48,80,83,32,88,20,66,49,100,84,5,20,99,63,96,57,47,30,97,15,83,74,43,79,83,70,2,10,19,20,27,88,70,84,77,26,100,72,98,19,88,61,34,35,81,10,39,91,50,49,67,50,62,10,35,59,50,58,6,90,34,47,76,91,99,57,81,89,33,40,76,31,76,47,38,22,56,9,97,90,67,76,100,43,9,59,62,11,53,11,44,23,18,37,9,8,19,7,69,36,33,15,50,17,41,76,50,45,79,25,74,57,45,6,23,68,32,39,43,96,38,6,5,76,63,26,17,57,80,70,66,42,2,9,60,53,69,60,62,16,37,93,53,53,92,72,72,50,54,10,71,98,26,10,68,28,82,72,25,31,19,30,50,23,50,48,15,54,63,66,75,5,21,90,40,69,58,69,16,58,67,24,49,28,41,64,18,9,77,36,79,25,85,10,19,16,80,76,45,100,31,81,51,11,64,97,41,70,62,8,93,79,99,63,68,63,26,57,60,2,18,58,45,87,99,90,60,59,75,64,99,96,71,89,30,78,94,82,10,33,54,40,82,85,53,43,36,20,67,96,42,23,10,30,9,51,49,32,31,9,100,55,88,26,59,49,31,43,14,34,61,83,99,35,77,35,82,36,16,99,41,59,29,9,94,24,30,37,13,98,46,93,79,8,35,16,56,69,90,67,60,2,14,11,60,93,38,91,89,100,86,98,66,61,23,39,50,72,54,31,100,60,24,14,44,91,15,91,34,16,54,23,71,32,14,86,43,60,66,20,80,28,14,77,82,34,39,90,71,94,13,63,87,63,88,39,3,48,6,97,75,50,12,74,58,86,91,85,45,14,61,39,37,23,39,39,61,37,46,87,62,91,20,75,36,27,17,13,4,4,26,21,97,26,36,12,51,53,98,97,85,36,17,78,3,94,59,7,83,66,93,88,60,3,75,79,28,34,42,71,9,84,15,20,74,38,69,15,77,72,77,22,22,70,60,92,54,19,54,75,13,10,72,74,58,97,62,62,61,80,70,46,39,100,90,58,8,9,8,76,80,99,95,96,88,98,20,13,8,48,22,63,49,66,28,99,9,59,76,26,16,31,100,62,35,32,54,75,56,63,52,43,30,76,30,46,91,36,95,15,47,29,7,21,23,28,53,55,66,21,100,79,89,43,15,97,53,41,34,69,60,59,99,13,95,91,87,28,12,42,46,27,76,29,23,5,91,14,81,79,73,46,17,92,99,87,17,62,37,29,45,74,92,53,9,96,60,60,45,15,60,41,11,95,34,49,81,71,41,91,36,40,17,41,14,90,3,66,79,82,9,100,96,35,50,83,12,61,6,57,35,18,89,39,54,92,82,17,38,99,50,20,90,82,41,23,48,83,96,26,65,27,16,1,32,83,70,78,52,97,62,43,52,79,8,95,69,30,97,37,65,66,10,43,58,76,100,52,62,92,52,73,14,71,36,22,51,45,48,27,76,62,67,53,28,79,4,24,34,5,3,61,23,39,82,87,76,38,7,92,63,51,75,14,71,10,3,49,58,73,82,70,55,92,43,22,41,25,64,15,59,77,86,5,34,59,49,47,29,56,61,94,42,20,94,34,3,19,16,6,60,97,36,21,42,84,28,22,56,88,50,61,97,72,2,19,49,72,26,19,59,53,3,6,46,24,61,32,57,23,97,63,61,58,32,100,89,99,12,50,32,97,34,54,63,43,97,28,67,33,60,26,42,69,83,100,69,74,67,18,51,48,35,56,81,61,37,98,3,81,74,41,55,90,91,9,61,79,59,22,42,82,48,8,26,46,27,89,20,58,90,59,30,55,25,97,57,19,66,66,59,19,26,65,2,4,57,24,93,40,61,49,45,31,19,59,24,55,46,73,62,76,13,63,36,88,38,67,78,55,52,35,13,80,45,50,73,75,36,29,4,77,3,26,14,14,53,94,31,100,53,60,42,65,11,38,33,77,74,3,86,69,67,95,99,62,47,28,57,32,57,36,63,7,75,16,23,23,6,99,58,86,37,24,64,41,12,44,96,37,35,84,8,82,14,52,98,54,77,8,51,77,65,73,10,78,66,22,7,70,96,32,67,34,14,30,59,28,82,51,95,99,75,35,76,27,4,100,65,54,40,35,1,17,99,44,96,41,94,16,66,56,99,16,38,11,35,62,47,39,15,14,54,2,21,100,42,16,80,18,72,87,52,80,57,2,31,70,65,23,23,13,74,65,5,84,94,52,71,43,98,32,5,77,67,55,95,60,7,97,14,6,1,14,82,9,16,19,14,11,98,93,95,44,92,96,19,32,32,21,19,78,8,30,97,36,15,44,72,39,8,29,75,15,69,23,8,52,20,10,72,47,27,77,56,94,18,34,3,15,72,73,93,98,78,80,31,28,96,100,96,32,44,75,43,62,74,28,52,59,65,71,12,81,64,47,13,64,51,40,76,37,77,3,100,32,81,8,4,6,43,61,69,2,3,91,19,74,98,85,56,96,24,61,12,68,59,72,86,47,100,45,41,65,65,41,16,85,4,84,100,22,16,76,78,38,61,70,34,50,44,32,85,83,64,17,82,13,86,40,28,43,27,17,71,75,80,58,34,28,45,97,36,66,50,78,63,57,23,74,2,14,18,78,36,45,87,69,78,21,70,59,30,70,78,13,3,74,54,46,51,40,77,74,87,57,41,62,100,50,55,48,14,57,65,38,4,27,58,20,15,6,74,17,61,76,48,87,22,87,76,30,13,25,25,23,46,47,84,32,16,12,59,86,97,22,65,16,68,63,76,14,58,93,17,44,39,2,97,20,57,95,30,88,96,69,62,19,50,39,45,62,69,91,40,97,73,13,24,28,17,15,7,8,51,97,27,4,10,80,35,41,61,24,11,90,30,61,95,82,91,44,57,52,79,69,60,38,79,37,11,90,74,21,68,64,64,11,60,79,57,18,14,12,75,38,88,99,26,57,89,42,41,13,69,71,48,56,5,20,37,3,15,72,74,2,57,97,19,42,43,84,14,6,45,19,59,33,40,83,3,72,68,95,99,60,38,60,49,30,71,9,49,75,84,83,59,40,66,37,63,16,3,17,59,4,20,42,67,77,17,5,19,98,100,58,71,94,16,21,66,19,57,33,12,94,64,80,99,60,54,31,47,71,9,36,75,87,47,84,88,78,27,14,41,49,67,71,73,22,76,16,80,74,22,56,42,41,1,3,99,77,49,86,59,83,28,80,96,76,73,89,94,86,23,89,27,59,28,30,87,95,44,12,13,3,69,62,55,45,37,86,55,93,51,75,63,58,14,24,42,32,31,63,66,7,6,81,39,16,63,3,86,100,93,68,14,8,83,15,11,7,66,70,47,25,10,53,77,54,84,66,44,41,69,15,86,85,46,68,49,16,76,10,16,91,47,42,68,90,7,41,66,25,58,63,98,50,75,54,11,10,32,11,2,94,62,54,62,42,69,30,72,56,66,32,2,71,62,97,46,12,65,45,71,52,54,2,65,22,85,70,30,76,82,29,95,16,65,69,17,39,42,36,60,90,36,89,55,42,45,76,43,81,43,30,99,2,70,85,18,13,100,60,20,71,47,3,14,73,88,93,93,60,33,49,94,67,59,73,50,11,26,37,5,91,62,43,70,98,28,97,14,9,59,70,4,48,16,73,12,34,44,27,57,41,59,15,95,78,50,89,69,20,41,37,48,67,37,41,42,58,33,57,32,14,42,55,93,83,25,4,96,34,86,29,49,92,54,72,98,40,13,70,62,43,32,37,46,66,87,78,27,25,55,6,84,10,12,53,78,72,85,2,40,37,51,81,88,15,63,90,17,15,4,83,33,40,47,2,52,47,33,18,34,29,98,21,93,59,26,91,61,12,78,16,97,37,55,61,5,2,27,50,10,37,14,91,36,4,85,3,45,42,93,15,90,38,12,40,38,34,72,28,39,57,54,7,62,33,99,57,86,39,29,9,9,13,30,62,52,75,20,94,17,11,35,4,66,89,67,11,99,76,6,59,76,66,63,89,20,43,37,9,45,29,31,51,12,53,10,83,5,90,74,64,59,63,8,97,35,24,28,4,93,30,46,96,93,51,37,45,16,25,96,25,17,92,75,29,83,36,41,32,47,45,21,77,97,90,15,42,44,18,33,92,49,26,77,72,93,100,35,70,70,70,45,59,38,96,33,13,24,23,58,35,90,52,2,53,62,16,75,66,32,42,73,38,15,1,13,58,32,35,58,31,18,45,56,67,9,82,81,61,51,6,56,78,16,58,75,74,83,59,37,6,7,34,24,45,46,100,60,60,8,41,88,100,95,52,95,55,49,67,91,40,11,69,45,58,76,20,42,79,14,2,10,91,60,80,92,21,69,63,57,31,61,76,37,12,65,91,94,42,18,46,72,65,49,40,56,93,80,7,20,48,29,83,41,56,88,79,55,32,69,8,15,96,73,71,19,55,5,45,30,30,54,4,71,74,90,36,56,94,3,89,73,46,5,76,41,28,84,34,50,50,81,83,66,75,57,73,30,78,10,97,44,38,20,39,78,40,16,70,53,19,69,65,97,90,10,62,28,33,43,42,16,63,46,87,26,70,96,33,84,61,2,46,61,85,12,58,99,49,72,75,97,31,77,67,99,54,8,58,52,80,31,96,62,43,92,72,39,40,19,73,41,33,94,57,89,49,37,89,86,19,49,41,17,38,56,37,67,69,12,6,13,16,96,95,87,27,73,98,100,93,55,6,67,22,88,60,4,27,47,83,70,33,90,12,92,3,58,85,4,89,47,79,36,53,43,70,73,25,35,30,51,99,42,50,86,6,47,59,37,60,43,37,91,48,59,3,82,46,54,63,26,71,93,85,21,53,72,2,48,10,53,65,62,68,42,5,26,1,18,74,78,47,64,100,43,16,20,87,95,90,32,59,2,35,100,67,51,52,92,34,57,11,97,80,93,47,87,45,98,74,45,53,37,93,98,1,35,53,8,68,50,39,97,51,59,10,34,92,30,4,94,88,33,11,70,16,84,34,64,22,63,78,48,34,55,6,33,91,33,81,35,64,60,100,28,76,37,83,32,28,60,51,43,48,69,99,76,24,80,70,84,91,35,32,81,56,42,96,22,56,71,94,77,41,96,86,90,40,75,29,58,51,57,4,61,3,11,18,93,97,94,97,63,54,50,42,96,90,53,36,71,45,83,34,27,78,35,17,57,8,95,59,5,90,59,66,4,37,54,31,72,56,97,9,100,93,54,99,27,84,71,1,64,12,47,27,67,57,97,54,42,66,6,9,100,49,39,34,34,32,69,26,37,78,91,48,79,6,15,85,9,73,94,69,76,27,53,16,23,72,45,50,44,45,12,86,56,66,45,10,12,85,26,53,95,100,19,19,27,81,84,100,50,83,82,27,56,88,87,50,80,26,86,5,56,8,36,21,25,66,57,23,20,37,39,93,56,39,82,90,12,75,4,83,54,63,2,49,69,93,90,59,89,87,66,72,63,70,82,14,37,71,22,25,41,84,77,87,24,72,30,62,49,89,36,41,77,88,81,10,87,31,38,41,89,100,31,96,97,84,52,68,12,61,15,44,76,64,20,64,11,22,40,7,79,23,53,13,55,3,85,96,27,55,81,28,85,9,93,50,65,74,27,26,19,97,13,68,26,62,84,60,78,43,38,82,71,89,85,81,45,7,86,31,73,56,91,32,82,64,81,69,24,12,39,58,56,90,31,24,98,71,58,72,3,11,95,14,68,26,17,73,97,20,68,14,25,49,93,78,46,63,73,68,33,87,9,78,9,26,75,55,40,10,58,22,36,15,94,13,5,100,98,87,69,18,13,40,50,65,64,45,29,39,6,30,84,96,37,11,19,52,66,99,29,63,75,90,45,37,7,87,3,40,9,77,63,69,59,31,44,35,47,10,10,71,93,19,69,57,54,26,33,37,61,94,36,77,96,30,11,43,58,17,23,42,24,39,48,27,91,43,72,21,93,62,36,59,37,73,28,71,3,7,83,38,24,61,39,55,35,60,29,61,11,46,99,6,13,39,95,95,59,55,68,54,39,21,83,94,100,38,64,99,36,94,61,57,24,36,21,25,54,17,12,82,44,43,100,42,57,74,87,7,57,93,62,66,32,9,13,69,93,36,54,91,38,64,78,70,48,95,18,35,80,62,35,35,61,58,47,90,8,64,28,99,3,48,45,66,41,86,89,35,41,19,98,47,43,11,61,65,44,36,89,29,27,81,91,48,37,89,74,18,35,76,2,30,17,1,22,92,13,25,60,90,7,44,9,100,67,50,89,32,19,7,68,41,81,30,81,4,90,76,99,9,52,74,98,88,35,17,19,1,40,63,58,86,21,69,95,35,24,68,88,7,27,34,8,33,7,7,63,16,36,10,9,43,36,38,83,76,33,8,33,47,11,54,100,78,62,49,76,87,36,20,57,14,53,23,5,98,52,46,26,15,58,73,25,22,11,28,28,41,66,24,91,29,32,82,76,79,62,47,44,41,44,64,74,36,7,19,35,46,92,12,38,43,92,22,62,15,83,55,81,37,75,71,15,21,67,94,95,29,35,94,38,62,8,28,40,36,76,76,57,42,78,97,58,91,36,31,66,39,78,49,45,31,82,89,26,13,45,43,7,30,69,51,66,53,19,53,40,83,15,23,27,43,68,40,86,69,92,55,90,14,21,38,91,56,84,14,73,14,99,67,88,3,21,75,16,4,26,29,62,84,53,72,28,8,47,41,29,69,66,93,23,76,67,43,27,61,40,43,70,70,7,66,35,70,38,51,65,8,59,50,17,41,46,84,84,66,7,35,72,20,12,48,56,26,5,16,12,5,25,22,57,29,26,4,98,49,11,57,79,56,32,16,30,48,29,71,97,87,75,5,87,11,100,59,81,99,55,95,66,74,46,73,15,72,72,20,97,63,12,92,58,58,55,81,10,40,10,33,97,10,73,4,15,6,62,16,29,26,25,40,59,22,43,40,33,81,68,97,28,94,41,13,97,49,14,71,97,20,70,98,95,27,14,82,77,99,28,58,83,46,93,55,39,27,100,44,68,8,41,37,26,27,80,97,6,94,76,11,89,81,91,53,6,84,92,38,81,28,89,26,96,69,80,44,74,10,16,87,36,9,44,74,45,32,86,14,10,23,4,27]
# output
output = sol.numOfSubarrays(arr)
# answer
answer = 3800478
print(output, answer, answer == output)
